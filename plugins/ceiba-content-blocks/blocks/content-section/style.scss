.wp-block-ceiba-content-section {
  --gap: clamp(16px, 3vw, 32px);
  display: block;
  padding: 24px 0;

  &.has-ceiba-navy-background-color p {
    color: var(--wp--preset--color--bg);
  }

  &.has-ceiba-green-background-color {
    h1, h2, h3, h4, h5, h6 {
      color: var(--wp--preset--color--bg);
    }
    p, li {
      color: var(--wp--preset--color--ceiba-navy);
    }
  }  

  .ceiba-csct__grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--gap);
    align-items: center;
  }

  .ceiba-csct__col--media {
    aspect-ratio: 4/3;
  }

  &.is-editor .ph-img {
    background: rgba(0,0,0,.06);
    border: 1px dashed rgba(0,0,0,.2);
    border-radius: 8px;
    aspect-ratio: inherit;
  }
}

.ceiba-csct__col.ceiba-csct__col--body {
  padding: 24px;
  position: relative;
  z-index:1;
}

.ceiba-csct.has-media-left {
  /* NAVY SECTION */
  &.has-ceiba-navy-background-color {
    position: relative;

    &:after {
      content: '';
      width: 210px;
      height: 210px;
      background: url(./assets/single-green-ring.svg);
      background-size: contain;
      background-repeat: no-repeat;
      display: block;
      bottom:48px; right:-96px;
      position: absolute;
    }
    
    .ceiba-csct__col.ceiba-csct__col--media {
      position: relative;

      &:after {
        content: '';
        width: 210px;
        height: 210px;
        background: url(./assets/single-white-ring.svg);
        background-size: contain;
        background-repeat: no-repeat;
        display: block;
        top:10px; right:-16px;
        position: absolute;      
      }  
    }
  }

  /* GREEN SECTION */
  &.has-ceiba-green-background-color {
    position: relative;
    
    .ceiba-csct__col.ceiba-csct__col--media {
      position: relative;

      &:after {
        content: '';
        width: 210px;
        height: 210px;
        background: url(./assets/single-white-ring.svg);
        background-size: contain;
        background-repeat: no-repeat;
        display: block;
        bottom: -150px; right:-16px;
        position: absolute;      
      }  
    }
  }

  /* WHITE SECTION */
  &.has-bg-background-color {
    position: relative;

    .ceiba-csct__col.ceiba-csct__col--media {
      position: relative;

      &:after {
        content: '';
        width: 210px;
        height: 210px;
        background: url(./assets/green-blue-rings.svg);
        background-size: contain;
        background-repeat: no-repeat;
        display: block;
        bottom:-16px; right:-48px;
        position: absolute;   
        transform: rotate(-90deg)  
      }
    }   
  }
}

.ceiba-csct.has-media-right {
  /* NAVY SECTION */
  &.has-ceiba-navy-background-color {
    position: relative;

    &:after {
      content: '';
      width: 210px;
      height: 210px;
      background: url(./assets/single-green-ring.svg);
      background-size: contain;
      background-repeat: no-repeat;
      display: block;
      bottom:48px; left:-96px;
      position: absolute;   
    }

    .ceiba-csct__col.ceiba-csct__col--media {
      position: relative;

      &:after {
        content: '';
        width: 210px;
        height: 210px;
        background: url(./assets/single-white-ring.svg);
        background-size: contain;
        background-repeat: no-repeat;
        display: block;
        top:10px; left:-64px;
        position: absolute;      
      }  
    }
  }
  
  /* GREEN SECTION */
  &.has-ceiba-green-background-color {
    position: relative;

    .ceiba-csct__col.ceiba-csct__col--media {
      position: relative;

      &:after {
        content: '';
        width: 210px;
        height: 210px;
        background: url(./assets/single-white-ring.svg);
        background-size: contain;
        background-repeat: no-repeat;
        display: block;
        bottom:-150px; left:-16px;
        position: absolute;      
      }  
    }
  }

  /* WHITE SECTION */
  &.has-bg-background-color {
    position: relative;

    .ceiba-csct__col.ceiba-csct__col--media {
      position: relative;

      &:after {
        content: '';
        width: 210px;
        height: 210px;
        background: url(./assets/green-blue-rings.svg);
        background-size: contain;
        background-repeat: no-repeat;
        display: block;
        bottom:-64px; left:16px;
        position: absolute;      
      } 
      &:before {
        content: '';
        width: 210px;
        height: 210px;
        background: url(./assets/white-blue-rings.svg);
        background-size: contain;
        background-repeat: no-repeat;
        display: block;
        top:-16px; right:-64px;
        position: absolute;   
        z-index:1;   
      }         
    }
  }    
}

.wp-block-ceiba-content-section.has-media-left {
  .ceiba-csct__col--media img {
    border-radius: 0 9999px 9999px 0;
    position: relative;
  }
}
.wp-block-ceiba-content-section.has-media-right {
  .ceiba-csct__col--media img {
    border-radius: 9999px 0 0 9999px;
    position: relative;
  }
}


.ceiba-csct__col--media .ceiba-csct__img {
  width: 100%;
  height: 100%;
  display: block;
  object-fit: cover;
  position: relative;
}

.ceiba-csct__content { margin: 0 0 14px; }
.ceiba-csct__cta { display: inline-flex; flex-wrap: wrap; gap: 10px; }

@media (max-width: 720px) {
  .ceiba-csct__col.ceiba-csct__col--media {
    order: 1;
  }
  .ceiba-csct__col.ceiba-csct__col--body {
    order: 2;
  }
}

@media (max-width: 900px) {
  .wp-block-ceiba-content-section .ceiba-csct__grid { grid-template-columns: 1fr; }
}

@media (min-width: 720px) {
  .wp-block-ceiba-content-section {
    padding: 32px 0;
  }
  .ceiba-csct__col.ceiba-csct__col--body {
    padding: 32px 96px;
  }
}

@media (min-width:1295px) {
  .wp-block-ceiba-content-section {
    border-radius: 64px;

    /* Can be removed if we don't want the images to escape the container and be fully rounded */
    .ceiba-csct__col.ceiba-csct__col--media .ceiba-csct__img {
      width: 120%;
      border-radius: 9999px 9999px 9999px 9999px;
    } 
    &.has-media-right {
      .ceiba-csct__col.ceiba-csct__col--media {
        transform: translate(100px, 0px)
      }
    }
    &.has-media-left {
      .ceiba-csct__col.ceiba-csct__col--media {
        transform: translate(-100px, 0px)
      }
    }

  }

}